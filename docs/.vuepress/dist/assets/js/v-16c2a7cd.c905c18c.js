"use strict";(self.webpackChunkweb_code_norm=self.webpackChunkweb_code_norm||[]).push([[337],{555:(e,i,t)=>{t.r(i),t.d(i,{data:()=>a});const a={key:"v-16c2a7cd",path:"/commitRule.html",title:"代码commit 规范",lang:"en-US",frontmatter:{title:"代码commit 规范"},excerpt:"",headers:[],filePathRelative:"commitRule.md",git:{}}},584:(e,i,t)=>{t.r(i),t.d(i,{default:()=>l});const a=(0,t(252).uE)('<p>为什么要规范git commit 行为？因为良好的commit 能够在以下场景发挥很好的作用：</p><ul><li>某个版本的代码线上出了问题</li><li>开发交接代码的时候接手的人能够根据history查看整个迭代流程，从而快速熟悉代码</li></ul><h4 id="commit-时机" tabindex="-1"><a class="header-anchor" href="#commit-时机" aria-hidden="true">#</a> commit 时机</h4><ul><li>小模块功能开发完毕，建议最迟2到3天commit 一次</li><li>bug 修复后</li><li>分支合并后</li><li>代码优化重构/优化/回滚后（小范围）</li></ul><h4 id="commit-规范" tabindex="-1"><a class="header-anchor" href="#commit-规范" aria-hidden="true">#</a> commit 规范</h4><p><strong>注意</strong>：若多人在同一分支开发commit 之前【必须】，git stash &amp;&amp; and git pull 操作，然后再stash apply</p><p>commit message格式：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h5 id="type-必须" tabindex="-1"><a class="header-anchor" href="#type-必须" aria-hidden="true">#</a> type(必须)</h5><p>用于说明git commit的类别，只允许使用下面的标识。</p><ul><li>feat：新功能（feature）。</li><li>fix/to：修复bug，可以是QA发现的BUG，也可以是研发自己发现的BUG。</li><li>fix：产生diff并自动修复此问题。适合于一次提交直接修复问题</li><li>to：只产生diff不自动修复此问题。适合于多次提交。最终修复问题提交时使用fix</li><li>docs：文档（documentation）。</li><li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）。</li><li>perf：优化相关，比如提升性能、体验。</li><li>test：增加测试。</li><li>chore：构建过程或辅助工具的变动。</li><li>revert：回滚到上一个版本。</li><li>merge：代码合并。</li><li>sync：同步主线或分支的Bug。</li></ul><h5 id="scope-可选" tabindex="-1"><a class="header-anchor" href="#scope-可选" aria-hidden="true">#</a> scope(可选)</h5><p>scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p><p>例如在Angular，可以是location，browser，compile，compile，rootScope， ngHref，ngClick，ngView等。如果你的修改影响了不止一个scope，你可以使用*代替。</p><h5 id="subject-必须" tabindex="-1"><a class="header-anchor" href="#subject-必须" aria-hidden="true">#</a> subject(必须)</h5><p>subject是commit目的的简短描述，不超过50个字符。</p><p>建议使用中文（感觉中国人用中文描述问题能更清楚一些）。</p><p>结尾不加句号或其他标点符号。 根据以上规范git commit message将是如下的格式：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>fix(DAO):用户查询缺少username属性 \nfeat(Controller):用户查询接口开发\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>',19),l={render:function(e,i){return a}}}}]);